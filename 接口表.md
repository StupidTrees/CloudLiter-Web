## 用户系统
#### 用户注册
- 请求方式：POST
- 请求地址：/user/sign_up
- 请求参数：

    |  参数   | 含义  | 示例 |
    |  ----  | ----  | ----|
    |  username | 用户名 | larry|
    | password  | 密码 | 1234|
    |gender| 性别|MALE/FEMALE|
    | nickname(可选)|昵称|刘飞龙
- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    |data|返回数据||
    
 - data字段的具体内容
    
     |字段名|类型|含义|
     |----|----|----|
     |token|string|签发的token|
     |info|jsonObject|用户基本信息返回|

    
#### 用户登录
- 请求方式：POST
- 请求地址：/user/login
- 请求参数：

    |  参数   | 含义  | 示例 |
    |  ----  | ----  | ----|
    |  username | 用户名 | larry|
    | password  | 密码 | 1234|

- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    |data|返回数据||
    
 - data字段的具体内容
    
     |字段名|类型|含义|
     |----|----|----|
     |token|string|签发的token|
     |info|jsonObject|用户基本信息返回|

#### 用户信息获取
- 请求方式：GET
- 请求地址：/user/profile/get_profile
- 请求头Header:

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 请求参数：无

- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    |data|返回数据|其中包含用户信息的各字段|

#### 更改用户颜色
- 请求方式：POST
- 请求地址：/user/profile/change_color
- 请求头Header:

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 请求参数：

    |  参数   | 含义  | 示例 |
    |  ----  | ----  | ----|
    |  userId(可选) | 用户id | 1|
    | color  | 颜色 | RED-PURPLE任一种|
    
- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    
## 好友系统
### 好友备注设置
- 请求方式：POST
- 请求地址：/relation/friend_remark
- 请求参数：

    |  参数   | 含义  | 示例 |
    |  ----  | ----  | ----|
    |  id2 | 好友id | 3|
    | remark  | 备注信息 | 新朋友|
- 请求头Header：

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    
#### 会话信息获取
- 请求方式：GET
- 请求地址：/conversation/query
- 请求头Header:

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 请求参数：无

    |  参数   | 含义  | 示例 |
    |  ----  | ----  | ----|
    |  userId（可选） | 我的id | 1|
    | friendId  | 朋友的id | 2|
- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    |data|返回数据|其中包含会话信息的各字段|
    

#### 用户删除好友
- 请求方式：GET
- 请求地址：/relation/delete_friend
- 请求头Header:

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 请求参数：
    
    | 参数 | 含义 | 示例 |
    | ---- | ---- | ---- |
    | id2 | 要删的好友id | 2 |
- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    |data|返回数据|其中包含用户信息的各字段|  
    
#### 获得我与某好友的关系对象
- 请求方式：GET
- 请求地址：/relation/query
- 请求头Header:

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 请求参数：
    
    | 参数 | 含义 | 示例 |
    | ---- | ---- | ---- |
    | userId(可选) | 我的id | 2 |
    | friendId| 朋友的id| 3|
- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    |data|返回数据|包含关系对象|  
    
#### 获得最新消息记录
- 请求方式：GET
- 请求地址：/message/pull_latest
- 请求头Header:

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 请求参数：
    
    | 参数 | 含义 | 示例 |
    | ---- | ---- | ---- |
    | conversationId | 会话id | 2 |
    | afterId| 查询该id对应消息之后的消息记录| 23|
    | pageSize| 分页大小| 默认15|
- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    |data|返回数据|包含消息列表|  
    
    
    
    
#### 发送图片消息
- 请求方式：POST
- 请求地址：/message/send_image
- 请求头Header:

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 请求参数(Param)：
    
    | 参数 | 含义 | 示例 |
    | ---- | ---- | ---- |
    | toId| 朋友id| |
    | uuid| 消息的临时uuid| |
    
- 请求参数(FormData)：
    
    | 参数 | 含义 | 示例 |
    | ---- | ---- | ---- |
    | upload| 图片文件| |
    
- 返回格式：Json

    | 参数|含义|示例|
    |----|----|----|
    |code|状态码|2000|
    |message|操作结果||
    |data|返回数据|包含发送成功的消息|

#### 加载聊天中的图片
- 请求方式：GET
- 请求地址：/message/image
- 请求头Header:

    |  Header   | 含义  | 解释 |
    |  ----  | ----  | ----|
    |  token | 用户令牌 | 务必在Header中加入登录得到的有效token|
- 请求参数(Param)：
    
    | 参数 | 含义 | 示例 |
    | ---- | ---- | ---- |
    | path| 图片路径| 3-1_69828980-1076-11eb-953d-a1f85e749b6e.jpg|

- 返回格式：图片（二进制流）